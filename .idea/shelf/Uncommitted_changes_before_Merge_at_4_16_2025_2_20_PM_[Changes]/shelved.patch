Index: get_fit_app/lib/view/HomePage.dart
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import 'dart:io';\r\nimport 'package:flutter/material.dart';\r\nimport 'package:get_fit_app/view/LeaderboardPage.dart';\r\nimport '../view/login_view.dart';\r\nimport 'nav_bar.dart';\r\nimport '../presenter/global_presenter.dart';\r\nimport '../model/chart_model.dart';\r\nimport '../view/chart_veiw.dart';\r\nimport 'settingspage.dart';\r\nimport 'package:shared_preferences/shared_preferences.dart';\r\nimport '../view/exercise_view.dart';\r\nimport '../view/favorites_page.dart';\r\nimport 'package:google_nav_bar/google_nav_bar.dart';\r\nimport '../view/Workout-Plan.dart';\r\nimport '../view/profile_page.dart';\r\nimport '../view/checklist_view.dart';\r\nimport '../view/LeaderboardPage.dart';\r\n\r\nclass MyHomePage extends StatefulWidget {\r\n  const MyHomePage({super.key, required this.title, required this.username});\r\n  final String title;\r\n  final String username;\r\n\r\n  @override\r\n  _MyHomePageState createState() => _MyHomePageState();\r\n}\r\n\r\nclass _MyHomePageState extends State<MyHomePage> {\r\n  int _selectedIndex = 0;\r\n  late String UserName;\r\n  List<ChartModel> _chartData = [];\r\n  String _selectedChart = 'Line';\r\n  File? _profileImage;\r\n\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n    _loadUsername();\r\n    _loadChartData();\r\n    _loadChartPreference();\r\n    _loadProfileImage();\r\n  }\r\n\r\n  void _loadUsername() {\r\n    UserName = globalUsername ?? widget.username;\r\n  }\r\n\r\n  void _loadChartData() {\r\n    _chartData = [\r\n      ChartModel(x: 1, y: 5, name: \"0\"),\r\n      ChartModel(x: 2, y: 6, name: \"1\"),\r\n      ChartModel(x: 3, y: 7, name: \"2\"),\r\n      ChartModel(x: 4, y: 8, name: \"3\"),\r\n    ];\r\n  }\r\n\r\n  Future<void> _loadChartPreference() async {\r\n    final prefs = await SharedPreferences.getInstance();\r\n    setState(() {\r\n      _selectedChart = prefs.getString('selectedChart') ?? 'Line';\r\n    });\r\n  }\r\n\r\n  Future<void> _loadProfileImage() async {\r\n    final prefs = await SharedPreferences.getInstance();\r\n    String? imagePath = prefs.getString('profileImage');\r\n    if (imagePath != null && File(imagePath).existsSync()) {\r\n      setState(() {\r\n        _profileImage = File(imagePath);\r\n      });\r\n    } else {\r\n      setState(() {\r\n        _profileImage = null;\r\n      });\r\n    }\r\n  }\r\n\r\n  @override\r\n  void didChangeDependencies() {\r\n    super.didChangeDependencies();\r\n    _loadChartPreference();\r\n  }\r\n\r\n  void _onItemTapped(int index) {\r\n    setState(() {\r\n      _selectedIndex = index;\r\n    });\r\n  }\r\n\r\n  Widget _buildHomePage() {\r\n    return Stack(\r\n      children: [\r\n        Positioned(\r\n          top: 20,\r\n          left: 20,\r\n          child: Text(\r\n            \"Welcome Back, $UserName\",\r\n            style: const TextStyle(fontSize: 30),\r\n          ),\r\n        ),\r\n        Positioned(\r\n          top: 120,\r\n          left: 20,\r\n          right: 20,\r\n          child: AnimatedSwitcher(\r\n            duration: const Duration(milliseconds: 500),\r\n            child: displayChart(_chartData, _selectedChart),\r\n          ),\r\n        ),\r\n        Positioned(\r\n          bottom: 240,\r\n          left: 20,\r\n          child: Container(\r\n            width: 180,\r\n            height: 50,\r\n            child: ElevatedButton(\r\n              style: ElevatedButton.styleFrom(\r\n                backgroundColor: Color.fromARGB(255, 229, 221, 212),\r\n              ),\r\n              onPressed: () async {\r\n                Navigator.push(\r\n                  context,\r\n                  MaterialPageRoute(builder: (context) => ChecklistPage()),\r\n                );\r\n              },\r\n              child: const Text(\r\n                \"TODO List\",\r\n                style: TextStyle(color: Color.fromARGB(255, 49, 112, 75)),\r\n              ),\r\n            ),\r\n          ),\r\n        ),\r\n        Positioned(\r\n          bottom: 240,\r\n          right: 20,\r\n          child: Container(\r\n            width: 180,\r\n            height: 50,\r\n            child: ElevatedButton(\r\n              style: ElevatedButton.styleFrom(\r\n                backgroundColor: Color.fromARGB(255, 229, 221, 212),\r\n              ),\r\n              onPressed: () async {\r\n                final updatedChart = await Navigator.push(\r\n                  context,\r\n                  MaterialPageRoute(builder: (context) => LeaderboardPage()),\r\n                );\r\n                if (updatedChart != null) {\r\n                  setState(() {\r\n                    _selectedChart = updatedChart;\r\n                  });\r\n                }\r\n              },\r\n              child: const Text(\r\n                \"LeaderBoard\",\r\n                style: TextStyle(color: Color.fromARGB(255, 46, 105, 70)),\r\n                textAlign: TextAlign.center,\r\n              ),\r\n            ),\r\n          ),\r\n        ),\r\n      ],\r\n    );\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    final List<Widget> _pages = [\r\n      _buildHomePage(),\r\n      ExercisePage(),\r\n      FavoritesPage(),\r\n      WorkoutHistoryByDate(),\r\n    ];\r\n\r\n    return Scaffold(\r\n      backgroundColor: Color.fromARGB(255, 244, 238, 227),\r\n      appBar: AppBar(\r\n        title: const Text(\"\"),\r\n        iconTheme: IconThemeData(color: Color.fromARGB(255, 244, 238, 227)),\r\n        backgroundColor: Color.fromARGB(255, 20, 50, 31),\r\n        actions: [\r\n          Padding(\r\n            padding: const EdgeInsets.only(right: 12),\r\n            child: GestureDetector(\r\n              onTap: () async {\r\n                await Navigator.push(\r\n                  context,\r\n                  MaterialPageRoute(\r\n                    builder: (context) => ProfilePage(username: UserName),\r\n                  ),\r\n                );\r\n                _loadProfileImage();\r\n              },\r\n              child: CircleAvatar(\r\n                radius: 18,\r\n                backgroundImage:\r\n                    _profileImage != null\r\n                        ? FileImage(_profileImage!)\r\n                        : const AssetImage('assets/images/AshtonHall.webp')\r\n                            as ImageProvider,\r\n              ),\r\n            ),\r\n          ),\r\n        ],\r\n        shape: RoundedRectangleBorder(\r\n          borderRadius: BorderRadius.only(\r\n            bottomLeft: Radius.circular(20),\r\n            bottomRight: Radius.circular(20),\r\n          ),\r\n        ),\r\n      ),\r\n      drawer: const NavBar(),\r\n      body: _pages[_selectedIndex],\r\n      bottomNavigationBar: GNav(\r\n        onTabChange: (index) {\r\n          setState(() {\r\n            _selectedIndex = index;\r\n          });\r\n        },\r\n        padding: const EdgeInsets.all(16),\r\n        gap: 8,\r\n        backgroundColor: Color.fromARGB(255, 20, 50, 31),\r\n        tabBackgroundColor: Color.fromARGB(255, 49, 112, 75),\r\n        tabBorderRadius: 12,\r\n        mainAxisAlignment: MainAxisAlignment.spaceEvenly,\r\n        tabs: const [\r\n          GButton(\r\n            icon: Icons.home,\r\n            text: 'Home',\r\n            iconColor: Color.fromARGB(255, 244, 238, 227),\r\n            iconActiveColor: Color.fromARGB(255, 244, 238, 227),\r\n            textColor: Color.fromARGB(255, 244, 238, 227),\r\n          ),\r\n          GButton(\r\n            icon: Icons.sports_handball_outlined,\r\n            text: 'Exercise List',\r\n            iconColor: Color.fromARGB(255, 244, 238, 227),\r\n            iconActiveColor: Color.fromARGB(255, 244, 238, 227),\r\n            textColor: Color.fromARGB(255, 244, 238, 227),\r\n          ),\r\n          GButton(\r\n            icon: Icons.star_border_outlined,\r\n            text: \"Favorites\",\r\n            iconColor: Color.fromARGB(255, 244, 238, 227),\r\n            iconActiveColor: Color.fromARGB(255, 244, 238, 227),\r\n            textColor: Color.fromARGB(255, 244, 238, 227),\r\n          ),\r\n          GButton(\r\n            icon: Icons.history,\r\n            text: \"Workout History\",\r\n            iconColor: Color.fromARGB(255, 244, 238, 227),\r\n            iconActiveColor: Color.fromARGB(255, 244, 238, 227),\r\n            textColor: Color.fromARGB(255, 244, 238, 227),\r\n          ),\r\n        ],\r\n      ),\r\n    );\r\n  }\r\n}\r\n\r\nWidget displayChart(List<ChartModel> chartData, String selectedChart) {\r\n  if (chartData.isEmpty) return const SizedBox.shrink();\r\n  return selectedChart == 'Line'\r\n      ? LineChartWidget(key: const ValueKey('line'), data: chartData)\r\n      : BarChartWidget(key: const ValueKey('bar'), data: chartData);\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/get_fit_app/lib/view/HomePage.dart b/get_fit_app/lib/view/HomePage.dart
--- a/get_fit_app/lib/view/HomePage.dart	(revision eeffb827ebf034538e0f64c5ea752fedbe3f725f)
+++ b/get_fit_app/lib/view/HomePage.dart	(date 1744830957835)
@@ -245,6 +245,13 @@
             iconActiveColor: Color.fromARGB(255, 244, 238, 227),
             textColor: Color.fromARGB(255, 244, 238, 227),
           ),
+          GButton(
+            icon: Icons.badge_outlined,
+            text: "Badges",
+            iconColor: Color.fromARGB(255, 244, 238, 227),
+            iconActiveColor: Color.fromARGB(255, 244, 238, 227),
+            textColor: Color.fromARGB(255, 244, 238, 227),
+          ),
           GButton(
             icon: Icons.history,
             text: "Workout History",
